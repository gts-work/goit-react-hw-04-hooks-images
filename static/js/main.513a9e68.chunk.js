(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={image_gallery_item:"ImageGalleryItem_image_gallery_item__3hfm5",image_gallery_item_image:"ImageGalleryItem_image_gallery_item_image__2Xg13"}},11:function(e,t,a){e.exports={div_button:"Button_div_button__Xrbaf",button:"Button_button__3QF_k"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},22:function(e,t,a){e.exports={container:"Container_container__3RIox"}},23:function(e,t,a){e.exports={image_gallery:"ImageGallery_image_gallery__3lXlD"}},25:function(e,t,a){e.exports={div_loader:"Loader_div_loader__2XBYZ"}},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__jo466",search_form:"Searchbar_search_form__20B-z",search_form_button:"Searchbar_search_form_button__2jdmA",search_form_button_label:"Searchbar_search_form_button_label__3F8a4",search_form_input:"Searchbar_search_form_input__3rbmt"}},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),c=a(7),n=a.n(c),s=(a(31),a(13)),l=a(3),i=a(22),u=a.n(i),m=a(1),_=function(e){var t=e.children;return Object(m.jsx)("div",{className:u.a.container,children:t})};_.defaultProps={children:"<></>"};var b=_,g=a(5),j=a.n(g);function f(e){var t=e.onSubmit,a=Object(r.useState)(""),o=Object(l.a)(a,2),c=o[0],n=o[1];return Object(m.jsx)("header",{className:j.a.searchbar,children:Object(m.jsxs)("form",{className:j.a.search_form,onSubmit:function(e){e.preventDefault(),t(c),n("")},children:[Object(m.jsx)("button",{type:"submit",className:j.a.search_form_button,children:Object(m.jsx)("span",{className:j.a.search_form_button_label,children:"Search"})}),Object(m.jsx)("input",{className:j.a.search_form_input,type:"text",value:c,onChange:function(e){n(e.currentTarget.value)},autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})}var d=a(10),h=a.n(d),O=function(e){var t=e.id,a=e.user,r=e.largeImageURL,o=e.webformatURL,c=e.onClick;return Object(m.jsx)("li",{className:h.a.image_gallery_item,children:Object(m.jsx)("img",{src:o,alt:a,className:h.a.image_gallery_item_image,onClick:function(e){c({largeImageURL:r})}})},t.toString())};O.defaultProps={user:"Author",largeImageURL:"",webformatURL:""};var p=O,v=a(23),x=a.n(v),y=function(e){var t=e.images,a=e.showLargeImage;return Object(m.jsx)("ul",{className:x.a.image_gallery,children:t.map((function(e){var t=e.id,r=e.user,o=e.largeImageURL,c=e.webformatURL;return Object(m.jsx)(p,{id:t,user:r,largeImageURL:o,webformatURL:c,onClick:a})}))})};y.defaultProps={images:[]};var S=y,L=a(24),I=a.n(L),w=(a(53),a(25)),E=a.n(w);function R(){return Object(m.jsx)("div",{className:E.a.div_loader,children:Object(m.jsx)(I.a,{type:"Oval",color:"#00BFFF",height:60,width:60})})}var N=a(11),P=a.n(N),U=function(e){var t=e.onLoadMore;return Object(m.jsx)("div",{className:P.a.div_button,children:Object(m.jsx)("button",{className:P.a.button,onClick:t,children:"Load more"})})},k=a(12),C=a.n(k),A=document.querySelector("#modal-root"),M=function(e){var t=e.largeImageURL,a=e.onClose,o=Object(r.useState)(!0),n=Object(l.a)(o,2),s=n[0],i=n[1];Object(r.useEffect)((function(){console.log("Modal useEffect"),s?window.addEventListener("keydown",u):window.removeEventListener("keydown",u)}),[s]);var u=function(e){"Escape"===e.code&&(console.log("Enter ESC, Modal close"),a(),i(!1))};return Object(c.createPortal)(Object(m.jsx)("div",{className:C.a.overlay,onClick:function(e){console.log("currentTarget: ",e.currentTarget),console.log("target: ",e.target),e.currentTarget===e.target&&(a(),i(!1))},children:Object(m.jsx)("div",{className:C.a.modal,children:Object(m.jsx)("img",{src:t,alt:""})})}),A)};M.defaultProps={largeImageURL:""};var B=M,G=a(26),F={API_KEY:"21791373-989f8b5e7418bf068b731f5c9",PER_PAGE:12},T=a.n(G).a.create();T.defaults.baseURL="https://pixabay.com/api/";var X=function(e){var t=e.searchQuery,a=void 0===t?"":t,r=e.currentPage,o=void 0===r?1:r,c="?q=".concat(a,"&page=").concat(o,"&key=").concat(F.API_KEY,"&image_type=photo&orientation=horizontal&per_page=").concat(F.PER_PAGE);return T.get("".concat(c),{timeout:1e4}).then((function(e){return e.data}))};function q(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(""),n=Object(l.a)(c,2),i=n[0],u=n[1],_=Object(r.useState)(1),g=Object(l.a)(_,2),j=g[0],d=g[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),p=O[0],v=O[1],x=Object(r.useState)(!1),y=Object(l.a)(x,2),L=y[0],I=y[1],w=Object(r.useState)(0),E=Object(l.a)(w,2),N=E[0],P=E[1],k=Object(r.useState)(!1),C=Object(l.a)(k,2),A=C[0],M=C[1],G=Object(r.useState)(!1),F=Object(l.a)(G,2),T=F[0],q=F[1],Q=Object(r.useState)(null),Y=Object(l.a)(Q,2),z=Y[0],D=Y[1];Object(r.useEffect)((function(){console.log("useEffect ~ useEffect: ",i),i&&J()}),[i]);var J=function(){var e={searchQuery:i,currentPage:j};console.log("App ~ options: ",e),I(!0),X(e).then((function(e){var t=e.hits,r=e.total;o([].concat(Object(s.a)(a),Object(s.a)(t))),P(r),d(j+1),D(""),T&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return D(e)})).finally((function(){return I(!1)}))},K=N-a.length,H=a.length>0&&K>0&&!L;return Object(m.jsxs)(b,{children:[Object(m.jsx)(f,{onSubmit:function(e){console.log("App ~ query: ",e),u(e),d(1),q(!1),o([]),D(null)}}),z&&Object(m.jsx)("p",{children:z}),a.length>0&&Object(m.jsx)(S,{showLargeImage:function(e){var t=e.largeImageURL;console.log("App ~ url",t),v(t),M(!A)},images:a}),L&&Object(m.jsx)(R,{}),H&&Object(m.jsx)(U,{onLoadMore:function(){q(!0),J()}}),A&&Object(m.jsx)(B,{largeImageURL:p,onClose:function(){M(!A)}})]})}a(72);n.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.513a9e68.chunk.js.map